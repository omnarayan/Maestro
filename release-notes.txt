## Multi-Device Port Support

This unofficial release adds the `--driver-host-port` CLI option to enable concurrent testing on multiple devices/simulators.

### Disclosure & Context

This feature was built by the [DeviceLab.dev](https://devicelab.dev) team to enable parallel testing across distributed device networks.

DeviceLab turns your team's Android & iOS devices into a private, secure testing cloud. Running concurrent Maestro tests across multiple devices required the ability to specify custom ports, which wasn't possible with the default port 7001 configuration.

While built for DeviceLab's use case, this feature is useful for anyone needing concurrent multi-device testing with Maestro.

### What's New
- âœ¨ New `--driver-host-port` option to specify custom AndroidDriver port
- ðŸš€ Run tests in parallel on multiple devices without port conflicts
- ðŸ”§ Works with both Android devices and iOS simulators

### Use Cases

This feature enables concurrent testing on multiple devices for:
- **Distributed testing platforms** like [DeviceLab.dev](https://devicelab.dev) (Private device testing cloud)
- **Local multi-device testing** setups (Test on multiple devices/simulators simultaneously)
- **CI/CD pipelines** with parallel test execution (Run different test suites in parallel)

### Installation

For users with Maestro already installed:

```bash
# Download the upgrade script
curl -fsSL https://raw.githubusercontent.com/omnarayan/Maestro/feature/driver-host-port-distribution/upgrade-maestro-ports.sh -o upgrade-maestro-ports.sh

# Run the upgrade
bash upgrade-maestro-ports.sh
```

### Usage

Run tests on multiple devices simultaneously:

```bash
# Terminal 1 - Device 1
maestro --driver-host-port 7005 --device device1 test auth.yaml

# Terminal 2 - Device 2
maestro --driver-host-port 7006 --device device2 test products.yaml
```

### Restoring Original Version

```bash
bash ~/.maestro-backups/backup/restore.sh
```

### Credits
- Based on https://github.com/mobile-dev-inc/maestro
- Fixes issues: #2339, #1818, #2556, #1485
- Credit to @avinash-bharti for original work in #2339

### Related PRs
- Upstream PR: https://github.com/mobile-dev-inc/maestro/pull/2821

---

**Note**: This is an unofficial release. Official Maestro releases are at https://github.com/mobile-dev-inc/maestro/releases
